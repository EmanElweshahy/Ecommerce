
<section class="container d-flex w-75 flex-column my-5 pt-3 rounded-4 gap-5" *ngIf="cartDetails;else msg">
    <div class="d-flex justify-content-between mt-5">
        <h3>Shop Cart</h3>
        <button [routerLink]="['/payment' , cartDetails._id]" class="btn btn-primary">Check Out</button>
    </div>
    
    <div>
        <div class="d-flex justify-content-between">
            <h5 >Total Price : <span class="text-main">{{cartDetails.totalCartPrice | currency:" EGP "}}</span></h5>
            <h5 >Total Number Of Items : <span class="text-main">{{_response.numOfCartItems }}</span></h5>
        </div>
        <div  *ngFor="let item of cartDetails.products" class="row align-items-center border-bottom mb-4" >
            <div class="col-md-2">
                <div>
                    <img class="w-100" [src]="item.product.imageCover" [alt]="item.product.title" srcset="">
                </div>
            </div>
            <div class="col-md-10">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h4>{{item.product.title}}</h4>
                        <p class="mb-0">Price: {{item.price | currency:" EGP "}}</p>
                        <button (click)="Remove(item.product._id)" class="btn p-0 m-0 text-danger"><i class="fa-solid fa-trash-can"></i> Remove</button>
                    </div>
                    <div>
                        <button #btn1 (click)="changeCount(item.product._id , item.count - 1 ,btn1 ,btn2)" class="btn border-success"> - </button>
                        <span class="p-2"> {{item.count}} </span>
                        <button #btn2 (click)="changeCount(item.product._id , item.count + 1 ,btn1 ,btn2)" class="btn border-success"> + </button>
                    </div>
                </div>
            </div>
        </div>
        <!-- <div class="text-center mt-5">
            <button class="btn border-success ">Clear Cart</button>
        </div> -->
    </div>
    
</section>

<ng-template #msg>
    <section class="container d-flex w-75 flex-column my-5 pt-3 rounded-4 gap-5">
        <h3 class="mt-5">Shop Cart</h3>
        <h4>Your Cart is Empty ...</h4>
    </section>
</ng-template>
